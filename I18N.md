# Internationalization (i18n) Guide - OpenClaw-German

This document describes the internationalization system for OpenClaw-German.

## Overview

OpenClaw-German supports multiple languages with English as the default. The i18n system is built with TypeScript and provides type-safe translation keys.

## Supported Languages

- `en` - English (default)
- `de` - German
- More to come...

## Architecture

### Files

```
src/locale/
├── index.ts      # Core i18n interface and implementation
├── en.ts         # English translations
├── de.ts         # German translations
└── helpers.ts    # Helper functions
```

### Usage

```typescript
import { getI18n } from './locale/index.js';

const i18n = getI18n();

// Simple translation
const message = i18n.t('common.hello'); // "Hello" or "Hallo"

// Translation with parameters
const version = i18n.t('cli.version', { version: '1.0.0' });
// "OpenClaw version 1.0.0" or "OpenClaw Version 1.0.0"

// Change language
i18n.setLanguage('de');

// Get current language
const lang = i18n.getLanguage(); // 'en' or 'de'
```

## Adding Translations

### 1. Add key to all language files

```typescript
// en.ts
export const en: TranslationMessages = {
  cli: {
    newCommand: {
      description: 'This is a new command',
      usage: 'Usage: {{command}} [options]',
    }
  }
};

// de.ts
export const de: TranslationMessages = {
  cli: {
    newCommand: {
      description: 'Dies ist ein neuer Befehl',
      usage: 'Verwendung: {{command}} [Optionen]',
    }
  }
};
```

### 2. Use in code

```typescript
import { getI18n } from './locale/index.js';

const i18n = getI18n();
const desc = i18n.t('cli.newCommand.description');
```

## Translation Keys

Translation keys are dot-separated strings:

```
cli.usage
gateway.server.starting
agents.system.welcome
```

### Key Naming Conventions

- Use lowercase letters
- Separate with dots for nesting
- Be descriptive but concise
- Group related translations

## Parameters

Use `{{param}}` for interpolation:

```typescript
// Translation
"version": "OpenClaw version {{version}}"

// Usage
i18n.t('cli.version', { version: '1.0.0' });
```

## Language Detection

The system detects language from:

1. `OPENCLAW_LANGUAGE` environment variable
2. `LANGUAGE` environment variable
3. `LANG` environment variable
4. Falls back to `en` (English)

```bash
export OPENCLAW_LANGUAGE=de
openclaw --help  # Will show German text
```

## Validation

Check for missing or extra translations:

```typescript
import { validateTranslations } from './locale/helpers.js';
import { en, de } from './locale/index.js';

const errors = validateTranslations({ en, de });
console.log(errors);
```

## TODO

- [ ] Add more CLI command translations
- [ ] Translate all Discord messages
- [ ] Translate error messages
- [ ] Translate help text
- [ ] Add language switcher command
- [ ] Add French, Spanish translations
- [ ] Create translation extraction tool
- [ ] Document all translatable strings

## Contributing

When adding new translatable strings:

1. Add the English translation first
2. Add German translation immediately
3. Use descriptive keys
4. Test both languages
5. Update this document
